SHT11사용방법

네이버 답변

위의 센서를 제어하기 위해서는 무조건 !!! 마이컴으로 제어를 해줘야 합니다. 

DATASHEET를 보니 그리 힘든것은 없지만 처음 이런종류를 제어한다면 다소 낯설고, 힘들수도 있습니다.  아래 datasheet에서  page 3을 아래쪽을 보시면 제어방법에 대해 나와 있습니다. 

http://www.sensirion.com/en/pdf/product_information/Data_Sheet_humidity_sensor_SHT1x_SHT7x_E.pdf

 

clock은 은 마이컴에서 만들어 주는 것입니다. 10Mhz라는 것은 clock의 최대 주파수입니다. 이보다 낮게 사용하면 되고, 최저 주파수에 대한 limit는 없습니다. 

그리고 data는 주고 받는(I/O) 단자로서 입니다. 

전체적으로 보면 다음과 같이 제어를 해줘야 합니다. 

1. DATA단자를 출력 단자로 설정하고(이것은 마이컴에서 DDR 부분을 제어하여)

  start 신호를 주고 난뒤 "00000101"이란 command 를 보내줍니다. 이 command가 습도를 읽겠다는 명령어입니다. "00000011"이란 command를 보내면 온도를 읽겠다는 명령어죠. 

그다음 data 단자를 입력단자로 두고 9번째의 clock을 주면 센서에서 ack 신호가 나오는데 

ack신호를 센서에서 command를 받았다는 것에 대한 응답입니다. 

 

2.그다음 나오는 data가 습도data입니다. data format를 보면 기본적으로는 IIC FORMAT를 사용하고 있으므로 우선 님의 경우 IIC 인터페이스에 대해 충분히 공부해 두는 것이 좋을듯 하네요. data는 총 16 bit가 나오지만 최상위 4bit는 data가 아니고 하위 12bit가 data입니다. 

 

3그다음에 나오는 data는 checksum data로서 위의 data가 제대로 전송되었는지를확인해주는 것입니다. 이것은 굳이 수신할 필요는 없습니다. 

 

프로그램으로 어려울것은 없지만 IIC 인터페이스 를 잘 모른다면 우선 이것부터 충분히 이해하는 것이 좋을듯 합니다. 

 

한가지 분명한것은 위의 온도,습도 센서는 단순히 CLOCK만 넣어준다고 DATA가 나오는 그런 종류는 아닙니다. 반드시 마이컴을 통해 제어를 해야 할 IC입니다. 

 

참고하세요. 
